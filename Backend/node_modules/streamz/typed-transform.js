const { Transform } = require('stream');

/**
 * Creates a typed Transform stream that preserves type information
 * @template T, R
 * @param {Object} options - Transform options with typed transform function
 * @param {function(T, string, function): void} options.transform - Transform function
 * @param {function(function): void} [options.flush] - Flush function
 * @returns {Transform}
 */
function createTypedTransform(options) {
  return new Transform({
    objectMode: true,
    ...options
  });
}

module.exports = { createTypedTransform }; 