<div class="p-6 bg-gray-100 dark:bg-gray-900 min-h-screen transition">
  <!-- Page Title -->
  <h2
    class="text-3xl font-extrabold bg-gradient-to-r from-indigo-500 to-purple-600 bg-clip-text text-transparent mb-4"
  >
    üìÇ Upload Documents
  </h2>
  <p class="text-gray-600 dark:text-gray-400 mb-6">
    Upload your documents (<span class="font-semibold">PDF, DOCX, TXT</span>).
    They will be processed and added to your chatbot knowledge base.
    <span class="text-sm">(Max: 10MB per file)</span>
  </p>

  <!-- Upload Card -->
  <div
    class="flex flex-col gap-6 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700"
  >
    <!-- Drag & Drop Zone -->
    <label
      for="file-upload"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
      [class.border-indigo-500]="isDragOver"
      [class.bg-indigo-50]="isDragOver"
      [class.dark:bg-gray-700]="isDragOver"
      class="flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl cursor-pointer transition-all duration-300 hover:border-indigo-500 hover:bg-indigo-50/40 dark:hover:bg-gray-700/50 relative group"
    >
      <input
        id="file-upload"
        type="file"
        (change)="onFileSelected($event)"
        accept=".pdf,.docx,.txt"
        class="hidden"
        [disabled]="uploading"
      />
      
      <div class="flex flex-col items-center text-center text-gray-500 dark:text-gray-300 pointer-events-none">
        <span class="text-5xl mb-3 group-hover:scale-110 transition-transform">
          {{ isDragOver ? 'üì•' : '‚¨ÜÔ∏è' }}
        </span>
        <span class="font-semibold text-lg mb-1">
          {{ isDragOver ? 'Drop file here' : 'Drag & Drop files here' }}
        </span>
        <span class="text-sm text-gray-400 dark:text-gray-500">
          or click to browse from your device
        </span>
        <span class="text-xs text-gray-400 dark:text-gray-500 mt-2">
          Supported: PDF, DOCX, TXT (Max 10MB)
        </span>
      </div>
      
      <div
        *ngIf="isDragOver"
        class="absolute inset-0 rounded-xl border-2 border-indigo-500 bg-indigo-500/10 animate-pulse"
      ></div>
    </label>

    <!-- File Preview -->
    <div
      *ngIf="selectedFile"
      class="flex items-center justify-between bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-600 p-4 rounded-lg shadow-sm border border-indigo-200 dark:border-gray-600 animate-slideIn"
    >
      <div class="flex items-center gap-3 flex-1">
        <span class="text-3xl">{{ getFileIcon(selectedFile.name) }}</span>
        <div class="flex-1 min-w-0">
          <p class="text-gray-800 dark:text-gray-200 font-medium truncate">
            {{ selectedFile.name }}
          </p>
          <p class="text-xs text-gray-500 dark:text-gray-400">
            {{ formatFileSize(selectedFile.size) }}
          </p>
        </div>
      </div>
      <button
        (click)="removeFile()"
        [disabled]="uploading"
        class="ml-3 text-red-500 hover:text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 p-2 rounded-lg transition disabled:opacity-50"
        title="Remove file"
      >
        ‚úñ
      </button>
    </div>

    <!-- Progress Bar -->
    <div *ngIf="uploading" class="w-full">
      <div class="flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2">
        <span>Uploading...</span>
        <span>{{ uploadProgress }}%</span>
      </div>
      <div class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
        <div
          class="h-full bg-gradient-to-r from-indigo-500 to-purple-600 transition-all duration-300 ease-out"
          [style.width.%]="uploadProgress"
        ></div>
      </div>
    </div>

    <!-- Upload Button -->
    <button
      (click)="uploadFile()"
      [disabled]="uploading || !selectedFile"
      class="px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-semibold rounded-xl shadow-md hover:shadow-xl hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2"
    >
      <span *ngIf="uploading" class="animate-spin">‚ü≥</span>
      <span>{{ uploading ? 'Uploading...' : 'üöÄ Upload File' }}</span>
    </button>

    <!-- Status Message -->
    <div
      *ngIf="message"
      class="p-4 rounded-lg animate-slideIn"
      [ngClass]="{
        'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300': messageType === 'success',
        'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300': messageType === 'error',
        'bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300': messageType === 'info'
      }"
    >
      <p class="text-sm font-medium text-center">{{ message }}</p>
    </div>
  </div>

  <!-- Uploaded Files History -->
  <div
    *ngIf="uploadedFiles.length > 0"
    class="mt-8 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700"
  >
    <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2">
      üìö Recently Uploaded Files
    </h3>
    
    <div class="space-y-3">
      <div
        *ngFor="let file of uploadedFiles.slice(0, 5)"
        class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition"
      >
        <div class="flex items-center gap-3 flex-1 min-w-0">
          <span class="text-2xl">{{ getFileIcon(file.name) }}</span>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-medium text-gray-800 dark:text-gray-200 truncate">
              {{ file.name }}
            </p>
            <p class="text-xs text-gray-500 dark:text-gray-400">
              {{ formatFileSize(file.size) }} ‚Ä¢ {{ formatDate(file.uploadedAt) }}
            </p>
          </div>
        </div>
        <span class="text-green-500 text-lg ml-2">‚úÖ</span>
      </div>
    </div>
  </div>
</div>